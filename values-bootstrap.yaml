ci_cd_namespace: &ci_cd "ds-ci-cd"
dev_namespace: &dev "ds-dev"
test_namespace: &test "ds-test"

namespaces:
  - name: *ci_cd
    bindings:
      - name: *dev
        kind: Group
        role: edit
      - name: labs-admins
        kind: Group
        role: admin
      - name: dummy-sa
        kind: ServiceAccount
        role: admin
        namespace: *ci_cd
  - name: *dev
    bindings:
      - name: *dev
        kind: Group
        role: edit
      - name: labs-admins
        kind: Group
        role: admin
      - name: dummy-sa
        kind: ServiceAccount
        role: admin
        name: *ci_cd
  - name: *test
    bindings:
      - name: *dev
        kind: Group
        role: edit
      - name: labs-admins
        kind: Group
        role: admin
      - name: dummy-sa
        kind: ServiceAccount
        role: admin
        namespace: *ci_cd

serviceaccounts:
  - name: dummy-sa
    namespace: *ci_cd

buildconfigs:
  - name: "jenkins-slave-mvn"
    namespace: *ci_cd
    strategy_type: "Docker"
    source_context_dir: "jenkins-slaves/jenkins-slave-mvn"
    source_repo: "https://github.com/redhat-cop/containers-quickstarts"
    source_repo_ref: "v1.20"
    builder_image_name: "quay.io/openshift/origin-jenkins-agent-maven"
    builder_image_tag: "4.2"
  - name: "jenkins-slave-helm"
    namespace: *ci_cd
    strategy_type: "Docker"
    source_context_dir: "jenkins-slaves/jenkins-slave-helm"
    source_repo: "https://github.com/redhat-cop/containers-quickstarts"
    source_repo_ref: "v1.20"
    builder_image_name: "registry.access.redhat.com/openshift3/jenkins-slave-base-rhel7"
    builder_image_tag: "latest"
  - name: "jenkins-slave-argocd"
    namespace: *ci_cd
    strategy_type: "Docker"
    source_context_dir: "jenkins-slaves/jenkins-slave-argocd"
    source_repo: "https://github.com/redhat-cop/containers-quickstarts"
    source_repo_ref: "v1.20"
    builder_image_name: "registry.access.redhat.com/openshift3/jenkins-slave-base-rhel7"
    builder_image_tag: "latest"

imagestreams:
  - name: jenkins-slave-mvn
    namespace: *ci_cd
  - name: jenkins-slave-argocd
    namespace: *ci_cd
  - name: jenkins-slave-helm
    namespace: *ci_cd


### Argo CD is part of bootrap as all the App CRs will require it to be in existance

argo-cd:
  namespace: 
  enabled: true
  installCRDs: false

  global:
# Do we want this?
    clusterAdminAccess:
      enabled: true

  dex:
    image:
      tag: v2.22.0

  server:
    extraArgs: {insecure: true }
    route:
      enabled: true
      termination_type: edge
      termination_policy: Redirect

  configs:
    argocdServerAdminPassword: $2a$10$/R5V2T4y23yQL9y0aqt3x.d.QQ5XSCsUr2IebD6XFt9ii5I17AOx.

  openshift:
    enabled: true
